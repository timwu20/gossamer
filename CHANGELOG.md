# Semantic Versioning Changelog

# [0.6.0](https://github.com/timwu20/gossamer/compare/v0.5.0...v0.6.0) (2021-12-06)


### Bug Fixes

* **ci:** add missing go-version matrix to fix development branch CI ([#2037](https://github.com/timwu20/gossamer/issues/2037)) ([dfc6ce6](https://github.com/timwu20/gossamer/commit/dfc6ce6d969e3b96f37177458d110b9bd5b277b7))
* **cmd/cfg:** Use  Babe Lead value from toml config ([#2032](https://github.com/timwu20/gossamer/issues/2032)) ([406d083](https://github.com/timwu20/gossamer/commit/406d08335cd7e65d8315bdaa56870a4d5507efa1))
* confirm block import notifier is closed properly ([#1736](https://github.com/timwu20/gossamer/issues/1736)) ([ce4b9d7](https://github.com/timwu20/gossamer/commit/ce4b9d7f7235618730bcbb0e81e19024bc3c99c2))
* **docs:** improve build-spec usage docs ([#1706](https://github.com/timwu20/gossamer/issues/1706)) ([65b4753](https://github.com/timwu20/gossamer/commit/65b475355f514ef77271272b82d1a96804d3203c))
* **dot/core:** Add only extrinsic during chain reorg. ([#1609](https://github.com/timwu20/gossamer/issues/1609)) ([16340ef](https://github.com/timwu20/gossamer/commit/16340ef7e16921b56fdb4deb7c5d178b9bfb8428))
* **dot/core:** Batch process transaction message. ([#1780](https://github.com/timwu20/gossamer/issues/1780)) ([3d209a3](https://github.com/timwu20/gossamer/commit/3d209a3cf0f2f826606aa1a35d32ef0f4faf91a5))
* **dot/core:** check transaction Validity.Propagate field to determine whether to propagate tx ([#1643](https://github.com/timwu20/gossamer/issues/1643)) ([81c8f0a](https://github.com/timwu20/gossamer/commit/81c8f0aef9b0b92480924f2d18b545c4b5c31194))
* **dot/core:** Fix handle transaction message test. ([#1607](https://github.com/timwu20/gossamer/issues/1607)) ([dca9ad7](https://github.com/timwu20/gossamer/commit/dca9ad70cd7e766b60b325dae2ea724570c26624))
* **dot/network, lib/grandpa:** fix handshake decoding and grandpa message handler sigabort ([#1631](https://github.com/timwu20/gossamer/issues/1631)) ([b02525b](https://github.com/timwu20/gossamer/commit/b02525bffea6b01a472d104f17768ab99fd9f660))
* **dot/network, lib/grandpa:** fix node sync, improve devnet finality ([de91262](https://github.com/timwu20/gossamer/commit/de91262b048e1a88c807cf63ad862e8d3617513b))
* **dot/network:** add nil checks in connManager ([#2069](https://github.com/timwu20/gossamer/issues/2069)) ([09e07cf](https://github.com/timwu20/gossamer/commit/09e07cf2536001c1bb8e2f7663a2af8998bcd857))
* **dot/network:** Check for size when decoding leb128. ([#1634](https://github.com/timwu20/gossamer/issues/1634)) ([c20a83c](https://github.com/timwu20/gossamer/commit/c20a83c2ef9b199bf5ffe3020f9b49c33d4dd13e))
* **dot/network:** check if peer supports protocol ([#1617](https://github.com/timwu20/gossamer/issues/1617)) ([fb26dd2](https://github.com/timwu20/gossamer/commit/fb26dd2174e17f5cf6b7150775fee47e942e890b))
* **dot/network:** decrease DHT find peers interval for gssmr nodes ([#1703](https://github.com/timwu20/gossamer/issues/1703)) ([7823c57](https://github.com/timwu20/gossamer/commit/7823c57daa9043093366d70b653f53cf34d3bf9f))
* **dot/network:** fix bugs in notifications protocol handlers; add metrics for inbound/outbound streams ([#2010](https://github.com/timwu20/gossamer/issues/2010)) ([88174ca](https://github.com/timwu20/gossamer/commit/88174caef22126fc6fa200cdf8dbf1183ea0b4c9))
* **dot/network:** fix dht connection on discovery on devnet ([#2059](https://github.com/timwu20/gossamer/issues/2059)) ([d9008aa](https://github.com/timwu20/gossamer/commit/d9008aa93a3520ddcafe81f9e049fbff6882b5aa))
* **dot/network:** fix discovery between gossamer nodes ([#1594](https://github.com/timwu20/gossamer/issues/1594)) ([ec59e3b](https://github.com/timwu20/gossamer/commit/ec59e3b4414487d367e8655a2dc1a2ce4e8d15b6))
* **dot/network:** fix memory allocations with `sizedBufferPool` ([#1963](https://github.com/timwu20/gossamer/issues/1963)) ([ddd96f7](https://github.com/timwu20/gossamer/commit/ddd96f738d6f8622ef18f5eea1b3c7e85108cdb6))
* **dot/network:** Fix missing digest in header ([#2092](https://github.com/timwu20/gossamer/issues/2092)) ([6f34b1b](https://github.com/timwu20/gossamer/commit/6f34b1bae856ebe254d5a34ff6af67ab173e4e3c))
* **dot/network:** fix stream manager tests ([#1683](https://github.com/timwu20/gossamer/issues/1683)) ([2b4353c](https://github.com/timwu20/gossamer/commit/2b4353c6d8009ba1a12b9f47b4c372ac4272d262))
* **dot/network:** implement a handshake timeout ([#1615](https://github.com/timwu20/gossamer/issues/1615)) ([4ab856e](https://github.com/timwu20/gossamer/commit/4ab856ed39548f21396a82b3de86af32b3dd1e45))
* **dot/network:** Implement time based handle transaction ([#1942](https://github.com/timwu20/gossamer/issues/1942)) ([72455d1](https://github.com/timwu20/gossamer/commit/72455d104c9a604b0b350e8f5f87e053f6950a15))
* **dot/network:** move low reputation peer removal from network ConnManager to peer scoring logic (dot/peerstate) ([#2068](https://github.com/timwu20/gossamer/issues/2068)) ([8ea3d9f](https://github.com/timwu20/gossamer/commit/8ea3d9f383255a40d03589d3d45fcc443c90937c)), closes [#2039](https://github.com/timwu20/gossamer/issues/2039)
* **dot/network:** Return on EOF error while reading stream. ([#1733](https://github.com/timwu20/gossamer/issues/1733)) ([a9d32fb](https://github.com/timwu20/gossamer/commit/a9d32fb07d3d186f65ea26daedd24cf10902d400))
* **dot/node:** Start websocket server only with `--ws` flag ([#1671](https://github.com/timwu20/gossamer/issues/1671)) ([fd43774](https://github.com/timwu20/gossamer/commit/fd437745287cfadca4a5e791f16a114f99958e81))
* **dot/state, lib/babe, lib/trie:** improve syncing between gossamer authority nodes ([#1613](https://github.com/timwu20/gossamer/issues/1613)) ([2e62a3d](https://github.com/timwu20/gossamer/commit/2e62a3ddaa1adbdfa40d572a5d589b7c45dc9eeb))
* **dot/state, lib/grandpa:** update justification and SignedVote handling in database ([#1682](https://github.com/timwu20/gossamer/issues/1682)) ([9dda6b5](https://github.com/timwu20/gossamer/commit/9dda6b53001cf5dcefa1b537d8b4e88e3e87e656))
* **dot/state:** add StorageState Lock/Unlock API for usage by babe and sync  ([#1700](https://github.com/timwu20/gossamer/issues/1700)) ([eaf8ba9](https://github.com/timwu20/gossamer/commit/eaf8ba9984e29832c878798f55854bd796b58256))
* **dot/state:** fix deadlock, fixes bootstrap syncing ([#1959](https://github.com/timwu20/gossamer/issues/1959)) ([13c92ea](https://github.com/timwu20/gossamer/commit/13c92ea83b81f48bf6756240a941abcb6d536d59))
* **dot/state:** track runtime per-block, fix runtime upgrades differing between forks ([#1638](https://github.com/timwu20/gossamer/issues/1638)) ([b31bba5](https://github.com/timwu20/gossamer/commit/b31bba508361a0cf34c66b36a2ea1efbbe998b96))
* **dot/state:** update `*state.BlockState.AddBlockToBlockTree` to store block in `unfinalisedBlocksMap` ([#2006](https://github.com/timwu20/gossamer/issues/2006)) ([8fac690](https://github.com/timwu20/gossamer/commit/8fac690e1cb0d25a26c0941866f38a039461efd4))
* **dot/sync:** add nil header checks ([#2099](https://github.com/timwu20/gossamer/issues/2099)) ([abbefce](https://github.com/timwu20/gossamer/commit/abbefce3cd896cb730168859c9cc248cfa7bbdc5))
* **dot/sync:** fix block request and response logic ([#1907](https://github.com/timwu20/gossamer/issues/1907)) ([fcfbabe](https://github.com/timwu20/gossamer/commit/fcfbabe657b848fb4d376cb1d611a474c0786f5b))
* **dot/sync:** fix creating block response, fixes node sync between gossamer nodes ([#1572](https://github.com/timwu20/gossamer/issues/1572)) ([d2197b0](https://github.com/timwu20/gossamer/commit/d2197b023878fda1da21ad0fdeae5628b557e44f))
* **dot/telemetry:** refactor telemetry to reduce CPU usage ([#1597](https://github.com/timwu20/gossamer/issues/1597)) ([3445d84](https://github.com/timwu20/gossamer/commit/3445d847129247cfb51ba424b0affafb03beca59))
* **dot/types:** *types.Body to be of type []types.Extrinsic ([#1807](https://github.com/timwu20/gossamer/issues/1807)) ([953d6f4](https://github.com/timwu20/gossamer/commit/953d6f45218a3d8748bf6b423f12d24571f93fec))
* **dot/types:** fix max value for digest ([#1687](https://github.com/timwu20/gossamer/issues/1687)) ([13380af](https://github.com/timwu20/gossamer/commit/13380af31830b6b8ef0eb320e019523d5f9fcd91))
* **dot:** fix `TestNewNode` ([#2070](https://github.com/timwu20/gossamer/issues/2070)) ([87f41ba](https://github.com/timwu20/gossamer/commit/87f41ba9bff837cd9d3b9abfb3a5fc63b191d43e))
* fix Kusama sync; add storageState lock in core.HandleTransactionMessage ([#1783](https://github.com/timwu20/gossamer/issues/1783)) ([d03f6d1](https://github.com/timwu20/gossamer/commit/d03f6d1338bfbc3472f58e156bd6950f04f71940))
* **lib/babe, lib/runtime/wasmer:** fixes for v0.9.8+ runtime ([#2075](https://github.com/timwu20/gossamer/issues/2075)) ([eb963d3](https://github.com/timwu20/gossamer/commit/eb963d3c650f6f6cd80b453effddbed71545aa76))
* **lib/babe:** add `--babe-lead` flag, update epoch handling logic ([#1895](https://github.com/timwu20/gossamer/issues/1895)) ([8a65c7f](https://github.com/timwu20/gossamer/commit/8a65c7f46c5d90630b3acf636bc1215b1f53993e))
* **lib/babe:** add pre-runtime digest before calling initialize_block ([#1581](https://github.com/timwu20/gossamer/issues/1581)) ([f0060ae](https://github.com/timwu20/gossamer/commit/f0060ae64b88cbf17381f0126b8cff6d2b92a27f))
* **lib/babe:** always use 2/3 of slot to produce block, re-add potentially valid txs to queue ([#1679](https://github.com/timwu20/gossamer/issues/1679)) ([b224f10](https://github.com/timwu20/gossamer/commit/b224f10908e4384be5413b47fcbf8256f38b03e5))
* **lib/babe:** call AddBlock in BABE synchronously ([#1585](https://github.com/timwu20/gossamer/issues/1585)) ([549dc25](https://github.com/timwu20/gossamer/commit/549dc2548240a7a73c0f88ad60d67148cbbe78be))
* **lib/babe:** fix err log ([#1801](https://github.com/timwu20/gossamer/issues/1801)) ([0ab395b](https://github.com/timwu20/gossamer/commit/0ab395b7c410634bf62966152c8910a5db37005d))
* **lib/babe:** fix setting first slot of network, fix loading BABE epoch params ([#1640](https://github.com/timwu20/gossamer/issues/1640)) ([63f73ca](https://github.com/timwu20/gossamer/commit/63f73ca7056fef4def125cb0e9831737e48c037a))
* **lib/babe:** fix timing for transition between epochs ([#1636](https://github.com/timwu20/gossamer/issues/1636)) ([e67b1e2](https://github.com/timwu20/gossamer/commit/e67b1e26bb00ecedc17c80d1492248a9c0eb3249))
* **lib/blocktree:** fix blocktree bug  ([#2060](https://github.com/timwu20/gossamer/issues/2060)) ([de8f573](https://github.com/timwu20/gossamer/commit/de8f57334bf931bc1cb7a3e8debe033b2985ae82))
* **lib/blocktree:** fix potential nil pointer dereference in `HighestCommonAncestor`, core `handleBlocksAsync` ([#1993](https://github.com/timwu20/gossamer/issues/1993)) ([7006320](https://github.com/timwu20/gossamer/commit/7006320978641bb6c00cde0b58daad3d731a0388))
* **lib/blocktree:** fix setting leaves after blocktree pruning ([#1605](https://github.com/timwu20/gossamer/issues/1605)) ([a00f881](https://github.com/timwu20/gossamer/commit/a00f8818e922e8fe7e8b0d6f681ecd26fbdabe59))
* **lib/blocktree:** removes the inconsistency to choose a deepest leaf ([#2094](https://github.com/timwu20/gossamer/issues/2094)) ([5210dc0](https://github.com/timwu20/gossamer/commit/5210dc04eec56aa8a11e0711d2461acbd77520a1))
* **lib/genesis:** Update missing and incorrect fields in genesis file. ([#1681](https://github.com/timwu20/gossamer/issues/1681)) ([f00a5a2](https://github.com/timwu20/gossamer/commit/f00a5a20d7bbb8cf0efa244f26052e7d78dc32cd))
* **lib/grandpa:** fix grandpa stall and various bugs ([#1708](https://github.com/timwu20/gossamer/issues/1708)) ([fe67586](https://github.com/timwu20/gossamer/commit/fe675864fad9179c3583571923c3be4f492fece9))
* **lib/grandpa:** fix grandpa vote message switch ([#2095](https://github.com/timwu20/gossamer/issues/2095)) ([8312490](https://github.com/timwu20/gossamer/commit/83124904d4e30162214fdccc1749f19e2e54b16a))
* **lib/grandpa:** fix threshold checking to be strictly greater than 2/3 ([#1891](https://github.com/timwu20/gossamer/issues/1891)) ([ed51f97](https://github.com/timwu20/gossamer/commit/ed51f978a1f0bb680d6c7a5975a9ee0d705f2882))
* **lib/grandpa:** use `defaultGrandpaInterval` if not set, fixes error on startup ([#1982](https://github.com/timwu20/gossamer/issues/1982)) ([84e2005](https://github.com/timwu20/gossamer/commit/84e2005e309d76770a3a58481b8e0c5aa9d5d86b))
* **lib/runtime/life:** remove import C from life ([#1923](https://github.com/timwu20/gossamer/issues/1923)) ([b93152a](https://github.com/timwu20/gossamer/commit/b93152a978bffd15ab653280f5bc58cdfc6b5610))
* **lib/runtime:** update HOST_API_TEST_RUNTIME_URL to reference specific commit ([#1885](https://github.com/timwu20/gossamer/issues/1885)) ([e6689e8](https://github.com/timwu20/gossamer/commit/e6689e8205351871b24c457004e91a9e4b901479))
* **log-levels:** do not ignore configuration file log levels ([#2016](https://github.com/timwu20/gossamer/issues/2016)) ([44c9b7a](https://github.com/timwu20/gossamer/commit/44c9b7af38a8a2609b5627f8d93fd40fd9c8dd0d))
* pending bubble hidden after block included ([#1592](https://github.com/timwu20/gossamer/issues/1592)) ([16e7eef](https://github.com/timwu20/gossamer/commit/16e7eef498bf50703b388fbd386107bbc9503286))
* **pprof:** only run pprof service if enabled  ([#2073](https://github.com/timwu20/gossamer/issues/2073)) ([f45eff4](https://github.com/timwu20/gossamer/commit/f45eff49dde4979a5924501331b23ad2c086ad26))
* **rpc/subscription:** subscribe runtime version notify when version changes ([#1686](https://github.com/timwu20/gossamer/issues/1686)) ([d6e9ab0](https://github.com/timwu20/gossamer/commit/d6e9ab001ad894934cda6d23eee18ee1fbaf6adf))
* Staging CI workflow ([#2034](https://github.com/timwu20/gossamer/issues/2034)) ([aaa633c](https://github.com/timwu20/gossamer/commit/aaa633cca5a64bbbe120cf8725480c838d345d95))
* **trie:** memory leak fix in `lib/trie` ([#2009](https://github.com/timwu20/gossamer/issues/2009)) ([71a8a4f](https://github.com/timwu20/gossamer/commit/71a8a4f3e0562253039002647043298400f24fa5))
* update deprecated package ([#1603](https://github.com/timwu20/gossamer/issues/1603)) ([ee5a5b6](https://github.com/timwu20/gossamer/commit/ee5a5b614bfc7f16129ac3a63f364619bc99e9f2))
* update gssmr genesis to use pallet_babe::SameAuthoritiesForever ([#1696](https://github.com/timwu20/gossamer/issues/1696)) ([281eef2](https://github.com/timwu20/gossamer/commit/281eef2bad7b2b1d6ce528ded155aff3d847fb98))
* update HOST_API_TEST_RUNTIME_URL ([#1898](https://github.com/timwu20/gossamer/issues/1898)) ([afe350c](https://github.com/timwu20/gossamer/commit/afe350cdf9ef7868989f6506c5ca43d410d3e06b))
* **utils:** create a specific folder for database ([#1598](https://github.com/timwu20/gossamer/issues/1598)) ([4720d27](https://github.com/timwu20/gossamer/commit/4720d278d78220b092f03753db08fee785dbb1f2))


### Features

* add --chain dev option ([#1561](https://github.com/timwu20/gossamer/issues/1561)) ([dc8ee9d](https://github.com/timwu20/gossamer/commit/dc8ee9dd6ac15577e5e2051363a8a1d8ef69a4e6))
* **cmd/gossamer:** implement --telemetry-url parameter ([#1890](https://github.com/timwu20/gossamer/issues/1890)) ([154d6e2](https://github.com/timwu20/gossamer/commit/154d6e21d5dd8543ce2059949173facfac30b646)), closes [#1502](https://github.com/timwu20/gossamer/issues/1502)
* **cmd:** implement offline pruning of state trie ([#1564](https://github.com/timwu20/gossamer/issues/1564)) ([d4d61c7](https://github.com/timwu20/gossamer/commit/d4d61c726765b3c82bdd3bf1d0a03fa3bc73a28f))
* **devnet:** Local Gossamer Devnet ([#2008](https://github.com/timwu20/gossamer/issues/2008)) ([23ce39f](https://github.com/timwu20/gossamer/commit/23ce39f72e250a197c6d97e28d872fb16848da63))
* **dot/network:** implement streamManager to cleanup not recently used streams ([#1611](https://github.com/timwu20/gossamer/issues/1611)) ([005932b](https://github.com/timwu20/gossamer/commit/005932b250a75bf5f835bb28dd7ef25d9d9c3f35))
* **dot/peerset:** Implement peer scoring ([#1791](https://github.com/timwu20/gossamer/issues/1791)) ([05f7e32](https://github.com/timwu20/gossamer/commit/05f7e324e84ac2b9bb874af2e6bfd1e7d8f202c1))
* **dot/rpc/modules:** add `system_addReservedPeer` and `system_removeReservedPeer` RPC call ([#1712](https://github.com/timwu20/gossamer/issues/1712)) ([79c250e](https://github.com/timwu20/gossamer/commit/79c250ed1eab9b9b59f83f6a19bf5dd175cc1033))
* **dot/rpc:** Add `system_localListenAddresses` RPC call ([#1689](https://github.com/timwu20/gossamer/issues/1689)) ([0d199b5](https://github.com/timwu20/gossamer/commit/0d199b5b82da0db3bc57dfa4a522bca16f960c26))
* **dot/rpc:** Implement `childstate_getKeys` rpc call ([#1800](https://github.com/timwu20/gossamer/issues/1800)) ([c5181ae](https://github.com/timwu20/gossamer/commit/c5181ae550f9d27fb4ce5850e21fbeeb31feafa3))
* **dot/rpc:** implement sync_state_genSyncSpec RPC call  ([#1827](https://github.com/timwu20/gossamer/issues/1827)) ([9991a9c](https://github.com/timwu20/gossamer/commit/9991a9cc41dbd91ce2bf420f1b79ca26e5e8bb35))
* **dot/state:** implement online pruning of historical state tries ([#1596](https://github.com/timwu20/gossamer/issues/1596)) ([31700c6](https://github.com/timwu20/gossamer/commit/31700c637d504d9d3e5be93e997e4679f2db0e34))
* **dot/sync:** implement codeSubstitutes ([#1635](https://github.com/timwu20/gossamer/issues/1635)) ([1a238b1](https://github.com/timwu20/gossamer/commit/1a238b10d926865301a6812ceed19a82ea2fd8f5))
* **dot/telemetry:** Added connection retry ([#1904](https://github.com/timwu20/gossamer/issues/1904)) ([1c0c5c7](https://github.com/timwu20/gossamer/commit/1c0c5c74724214aaf139b621c421a7079121fa59))
* **dot/telemetry:** Added more telemetry messages in grandpa client ([#2043](https://github.com/timwu20/gossamer/issues/2043)) ([7c870a4](https://github.com/timwu20/gossamer/commit/7c870a4400b6aa8e78ed47dd64961a438dfedf11)), closes [#1841](https://github.com/timwu20/gossamer/issues/1841) [#1842](https://github.com/timwu20/gossamer/issues/1842)
* **dot/telemetry:** implement notify.finalized telemetry interface ([#1877](https://github.com/timwu20/gossamer/issues/1877)) ([b4e5ded](https://github.com/timwu20/gossamer/commit/b4e5dedbebf12edcf974081439cbeac9e9bec0e1))
* **dot/telemetry:** implement substrate_number_leaves metrics ([#1926](https://github.com/timwu20/gossamer/issues/1926)) ([847de6a](https://github.com/timwu20/gossamer/commit/847de6ad719c94437b273c1704839766995c3bf7))
* **dot/telemetry:** implement telemetry message network_state ([#1618](https://github.com/timwu20/gossamer/issues/1618)) ([73e99c9](https://github.com/timwu20/gossamer/commit/73e99c99c60d096faeddb3f7e4059f3f1eb658d8))
* **flags:** read log levels from flags ([#1953](https://github.com/timwu20/gossamer/issues/1953)) ([abf9f3a](https://github.com/timwu20/gossamer/commit/abf9f3a7746b12a8963e907553a1d2661760cac2))
* implement ext_default_child_storage_storage_kill_version_2 ([#1799](https://github.com/timwu20/gossamer/issues/1799)) ([541f580](https://github.com/timwu20/gossamer/commit/541f58033abd4cf1fc6aa32371e54138af76009b))
* implement ext_offchain_index_set_version_1 for wasmer runtime ([#1739](https://github.com/timwu20/gossamer/issues/1739)) ([619306d](https://github.com/timwu20/gossamer/commit/619306d7efa5a88bf96861b202a42ec6c6dd51da))
* **lib/babe:** add check of types.ConfigData.SecondarySlots for disabling secondary verification ([#1910](https://github.com/timwu20/gossamer/issues/1910)) ([7bc2e32](https://github.com/timwu20/gossamer/commit/7bc2e32c9c6a45b10afe05d2156046744c223701))
* **lib/grandpa:** Include equivocatory nodes while creating justification ([#1911](https://github.com/timwu20/gossamer/issues/1911)) ([af7725f](https://github.com/timwu20/gossamer/commit/af7725f67c59e18546325be81b39aba49d42c896))
* **lib/runtime/wasmer:** implement ext_default_child_storage_storage_kill_version_3 ([#1878](https://github.com/timwu20/gossamer/issues/1878)) ([454689b](https://github.com/timwu20/gossamer/commit/454689b8f6bec7f4d26d96e4806c8fbe480499e0))
* **lib/runtime/wasmer:** implement ext_offchain_local_storage_version_1 ([#1821](https://github.com/timwu20/gossamer/issues/1821)) ([01dbffc](https://github.com/timwu20/gossamer/commit/01dbffccc0821bef6389c422ca5b4cb306a012cd))
* **lib/runtime:** Implement `ext_offchain_http_request_add_header_version_1` host function ([#1994](https://github.com/timwu20/gossamer/issues/1994)) ([2e722c7](https://github.com/timwu20/gossamer/commit/2e722c727d1165c91edaa49c3ce82b3740578a78))
* **lib/runtime:** Implement `ext_offchain_http_request_start_version_1` host function ([#1947](https://github.com/timwu20/gossamer/issues/1947)) ([4a8598b](https://github.com/timwu20/gossamer/commit/4a8598b207f54fdcf29bd228bb31efd8943c63b0))
* **lib/runtime:** Implement `trie_blake2_256_verify_proof` host function ([#1920](https://github.com/timwu20/gossamer/issues/1920)) ([1bd33a6](https://github.com/timwu20/gossamer/commit/1bd33a660d4233256c30974e5b786fcfb10becc3))
* **lib/trie:** Implement `verify_proof` function ([#1883](https://github.com/timwu20/gossamer/issues/1883)) ([68650b7](https://github.com/timwu20/gossamer/commit/68650b713dfa37b026eb2094947f1ca3c52b109a))
* **lib/trie:** Implement limit for trie.ClearPrefix ([#1905](https://github.com/timwu20/gossamer/issues/1905)) ([9756b2c](https://github.com/timwu20/gossamer/commit/9756b2c7ab756805716ee10cd42adf00156c6483))
* **lib/trie:** Parallel hash trie. ([#1657](https://github.com/timwu20/gossamer/issues/1657)) ([22f0b2b](https://github.com/timwu20/gossamer/commit/22f0b2bec944656d5f5bbf1c23e92e0138d8d406))
* **pprof:** Pprof HTTP server service ([#1991](https://github.com/timwu20/gossamer/issues/1991)) ([5996229](https://github.com/timwu20/gossamer/commit/5996229e8082009a1174d29f1c2777f3ca10780b))
* **rpc/subscription:** implement state_unsubscribeStorage ([#1574](https://github.com/timwu20/gossamer/issues/1574)) ([56f594a](https://github.com/timwu20/gossamer/commit/56f594a257121b3c9b4987b127d46a6b97fec00a))
* **rpc:** Implement `childstate_getChildStorage` RPC call ([#1832](https://github.com/timwu20/gossamer/issues/1832)) ([4977d06](https://github.com/timwu20/gossamer/commit/4977d063b02ab484a5059d7ab9c2ea140dbfb8e8))
* **rpc:** Implement `childstate_getStorageHash` RPC call ([#1805](https://github.com/timwu20/gossamer/issues/1805)) ([0e31754](https://github.com/timwu20/gossamer/commit/0e31754ca6f5c6b2d6c9962a1445516594c6f8da))
* **rpc:** Implement `childstate_getStorageSize` RPC call ([#1810](https://github.com/timwu20/gossamer/issues/1810)) ([77f3458](https://github.com/timwu20/gossamer/commit/77f3458cb83fc2ae5e1b004c28ff83e46a416b54))
* **rpc:** Implement `payment_queryInfo` RPC call ([#1826](https://github.com/timwu20/gossamer/issues/1826)) ([d6e3583](https://github.com/timwu20/gossamer/commit/d6e3583c9d8b66d81e2c4189ff4c7b4710a5673e))
* **rpc:** Implement `state_getReadProof` rpc call ([#1768](https://github.com/timwu20/gossamer/issues/1768)) ([00c4951](https://github.com/timwu20/gossamer/commit/00c4951cef303e22ea5aade15e81eefca264a46f))
* **runtime:** implement custom logging handler that print function name ([#1825](https://github.com/timwu20/gossamer/issues/1825)) ([5301ce4](https://github.com/timwu20/gossamer/commit/5301ce47f40a3a8b94f4d0f0ee954abaa487bc4e))
* **telemetry:** send telemetry messages when GRANDPA receieves commit or vote messages ([#2015](https://github.com/timwu20/gossamer/issues/2015)) ([90d5577](https://github.com/timwu20/gossamer/commit/90d5577f036b618402a1ed7f618cd95d24eace03)), closes [#1840](https://github.com/timwu20/gossamer/issues/1840) [#1839](https://github.com/timwu20/gossamer/issues/1839) [#1838](https://github.com/timwu20/gossamer/issues/1838)
* **telemetry:** send txpool.import telemetry msg ([#1966](https://github.com/timwu20/gossamer/issues/1966)) ([9f9c213](https://github.com/timwu20/gossamer/commit/9f9c213cd978deddae7db564740e745906b37fc7))


### Reverts

* Revert "feat(dot/rpc) implement `author_hasSessionKeys` RPC call (#1704)" (#1714) ([ed56d29](https://github.com/timwu20/gossamer/commit/ed56d293d75381f4759ac95c7b76abecabf40345)), closes [#1704](https://github.com/timwu20/gossamer/issues/1704) [#1714](https://github.com/timwu20/gossamer/issues/1714)

# [0.5.0](https://github.com/timwu20/gossamer/compare/v0.4.1...v0.5.0) (2021-12-06)


### Bug Fixes

* **babe:** Fix extrinsic format in block. ([#1530](https://github.com/timwu20/gossamer/issues/1530)) ([1a03b2a](https://github.com/timwu20/gossamer/commit/1a03b2a08a191b37ac620ae8ff5c47dccf92b421))
* **dot/network:** Fix notification handshake and reuse stream. ([#1545](https://github.com/timwu20/gossamer/issues/1545)) ([a632dc4](https://github.com/timwu20/gossamer/commit/a632dc444ed62896371806b3b20ffe0e50ecc7d0))
* **dot/network:** split stored streams and handshakeData into inbound and outbound ([#1553](https://github.com/timwu20/gossamer/issues/1553)) ([637050b](https://github.com/timwu20/gossamer/commit/637050bb94e12eb518ef93122c5ef323c27a53fb))
* **lib/babe:** fix BABE state storing after building block ([#1536](https://github.com/timwu20/gossamer/issues/1536)) ([1a3dea2](https://github.com/timwu20/gossamer/commit/1a3dea29c419c67b5a1d8c66c96e56c4da0cdd31))
* persist node name ([#1543](https://github.com/timwu20/gossamer/issues/1543)) ([88b88f2](https://github.com/timwu20/gossamer/commit/88b88f2c889aa27506dc482eadda5a295b2626a4))
* **release:** Trigger release when pushed to main branch ([#1566](https://github.com/timwu20/gossamer/issues/1566)) ([4f2ba56](https://github.com/timwu20/gossamer/commit/4f2ba56b476962518d6b46856265c7b32074fd34))
* update go-schnorrkel version ([#1557](https://github.com/timwu20/gossamer/issues/1557)) ([b86c7ff](https://github.com/timwu20/gossamer/commit/b86c7ff8507c097879996f0d5eb9ec84628127f9))


### Features

* Add properties and chainId on build-spec command ([#1520](https://github.com/timwu20/gossamer/issues/1520)) ([b18290c](https://github.com/timwu20/gossamer/commit/b18290cb269d4f1a8e2915dac6add5c9363a2a25))
* **dot/network, lib/grandpa:** request justification on receiving NeighbourMessage, verify justification on receipt ([#1529](https://github.com/timwu20/gossamer/issues/1529)) ([e1f9f42](https://github.com/timwu20/gossamer/commit/e1f9f427c47255ca5cdcdd443ed8ebcf2451c759))
* **dot/network:** add propagate return bool to messageHandler func type to determine whether to propagate message or not ([#1555](https://github.com/timwu20/gossamer/issues/1555)) ([0d6f488](https://github.com/timwu20/gossamer/commit/0d6f48834327fa453977c7ccde2ad4ac99588e75))
* **lib/grandpa:** fully verify justifications using GrandpaState ([#1544](https://github.com/timwu20/gossamer/issues/1544)) ([028d25e](https://github.com/timwu20/gossamer/commit/028d25e72e5a3c32380f929d0db11ac4e874af37))
* **lib/grandpa:** send NeighbourMessage to peers ([#1558](https://github.com/timwu20/gossamer/issues/1558)) ([322ccf9](https://github.com/timwu20/gossamer/commit/322ccf9cf5fe18cc83ec05a5490ec250bd028f14))
